<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>浏览器中的BOM对象 - 追来者之人</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="追来者之人"><meta name="msapplication-TileImage" content="/img/logo.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="追来者之人"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="BOMBOM 是指浏览器对象模型。 主要用于开发人员控制浏览器显示的界面以外的部分，例如浏览器窗口的位置、浏览器的地址信息、浏览历史界面的前进后退等。 一、windowwindow 对象是 BOM 的核心对象，表示浏览器的一个实例。 1.1 全局声明window 既是访问浏览器窗口的接口，也是 ECMAScript 的全局对象（Global）。"><meta property="og:type" content="blog"><meta property="og:title" content="浏览器中的BOM对象"><meta property="og:url" content="http://example.com/lang/js/bom/"><meta property="og:site_name" content="追来者之人"><meta property="og:description" content="BOMBOM 是指浏览器对象模型。 主要用于开发人员控制浏览器显示的界面以外的部分，例如浏览器窗口的位置、浏览器的地址信息、浏览历史界面的前进后退等。 一、windowwindow 对象是 BOM 的核心对象，表示浏览器的一个实例。 1.1 全局声明window 既是访问浏览器窗口的接口，也是 ECMAScript 的全局对象（Global）。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://example.com/img/og_image.png"><meta property="article:published_time" content="2021-08-28T08:24:55.000Z"><meta property="article:modified_time" content="2023-04-02T08:18:40.700Z"><meta property="article:author" content="jiaduo"><meta property="article:tag" content="JavaScript"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="http://example.com/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://example.com/lang/js/bom/"},"headline":"浏览器中的BOM对象","image":["http://example.com/img/og_image.png"],"datePublished":"2021-08-28T08:24:55.000Z","dateModified":"2023-04-02T08:18:40.700Z","author":{"@type":"Person","name":"jiaduo"},"publisher":{"@type":"Organization","name":"追来者之人","logo":{"@type":"ImageObject","url":"http://example.com/img/logo.png"}},"description":"BOMBOM 是指浏览器对象模型。 主要用于开发人员控制浏览器显示的界面以外的部分，例如浏览器窗口的位置、浏览器的地址信息、浏览历史界面的前进后退等。 一、windowwindow 对象是 BOM 的核心对象，表示浏览器的一个实例。 1.1 全局声明window 既是访问浏览器窗口的接口，也是 ECMAScript 的全局对象（Global）。"}</script><link rel="canonical" href="http://example.com/lang/js/bom/"><link rel="icon" href="/img/logo.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="追来者之人" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><h1 class="title is-3 is-size-4-mobile"><i class="fas fa-blog"> </i>浏览器中的BOM对象</h1><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><i class="fas fa-calendar-plus"> </i><time dateTime="2021-08-28T08:24:55.000Z" title="2021-08-28T08:24:55.000Z">2021-08-28</time></span><span class="level-item is-hidden-mobile"><i class="fas fa-calendar-check"> </i><time dateTime="2023-04-02T08:18:40.700Z" title="2023-04-02T08:18:40.700Z">2023-04-02</time></span><span class="level-item"><i class="fas fa-folder"> </i><a class="link-muted" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a><span> / </span><a class="link-muted" href="/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/JavaScript/">JavaScript</a></span><span class="level-item"><i class="fas fa-clock"> </i>17 分钟读完 (大约2561个字)</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><div class="content"><h1 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h1><p>BOM 是指浏览器对象模型。</p>
<p>主要用于开发人员控制浏览器显示的界面以外的部分，例如浏览器窗口的位置、浏览器的地址信息、浏览历史界面的前进后退等。</p>
<h2 id="一、window"><a href="#一、window" class="headerlink" title="一、window"></a>一、window</h2><p>window 对象是 BOM 的核心对象，表示浏览器的一个实例。</p>
<h3 id="1-1-全局声明"><a href="#1-1-全局声明" class="headerlink" title="1.1 全局声明"></a>1.1 全局声明</h3><p>window 既是访问浏览器窗口的接口，也是 ECMAScript 的全局对象（Global）。</p>
<span id="more"></span>

<p>直接在全局作用域声明的变量、函数等都会变成 window 对象的属性和方法：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> name = <span class="string">&#x27;zhangsan&#x27;</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">getName</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span></span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">  </span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">alert</span>(name)              <span class="comment">// zhangsan</span></span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">alert</span>(<span class="title function_">getName</span>())         <span class="comment">// zhangsan</span></span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">alert</span>(<span class="variable language_">window</span>.<span class="property">name</span>)       <span class="comment">// zhangsan </span></span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">alert</span>(<span class="variable language_">window</span>.<span class="title function_">getName</span>())  <span class="comment">// zhangsan</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>虽然定义全局变量会直接归到 window 中，但是还是和直接在 window 中定义的属性有点不同。</p>
<p>全局变量不能使用 <code>delete</code> 删除变量，但是在 window 中定义的属性是可以的：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> name = <span class="string">&#x27;zhangsan&#x27;</span></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">window</span>.<span class="property">age</span> = <span class="number">12</span></span></span><br><span class="line"><span class="language-javascript">  </span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">alert</span>(<span class="variable language_">window</span>.<span class="property">name</span>) <span class="comment">// zhangsan </span></span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">alter</span>(<span class="variable language_">window</span>.<span class="property">age</span>)  <span class="comment">// 12</span></span></span><br><span class="line"><span class="language-javascript">  </span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 删除无用</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">delete</span> <span class="variable language_">window</span>.<span class="property">name</span></span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">alter</span>(<span class="variable language_">window</span>.<span class="property">name</span>) <span class="comment">// zhangsan</span></span></span><br><span class="line"><span class="language-javascript">  </span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 可以删除</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">delete</span> <span class="variable language_">window</span>.<span class="property">age</span></span></span><br><span class="line"><span class="language-javascript">  <span class="title function_">alter</span>(<span class="variable language_">window</span>.<span class="property">age</span>)  <span class="comment">// undefined</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>产生这种情况的原因是，全局声明的变量，虽然被归到 window 中，但是它的一个特性值 <code>[[Configurable]]</code> 默认会被设为 <code>false</code>，导致全局声明的变量没有办法使用 <code>delete</code> 进行删除。</p>
<h3 id="1-2-窗口和框架"><a href="#1-2-窗口和框架" class="headerlink" title="1.2 窗口和框架"></a>1.2 窗口和框架</h3><p>框架，一般指的是 <code>HTML</code> 中的 <code>&lt;frame&gt;</code> 标签所表述的元素。</p>
<ul>
<li><p>每个框架都类似于一个浏览窗口，因此每个框架都有自己的 window 对象。</p>
</li>
<li><p>框架的 window 对象会保存在父框架或父窗口的 <code>window.frames</code> 中。</p>
</li>
<li><p>一般情况下框架的 window 对象都会有一个 name 属性。</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">frameset</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">&quot;top.html&quot;</span>, <span class="attr">name</span>=<span class="string">&quot;topFrame&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">frameset</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">&quot;bottom-left.html&quot;</span>, <span class="attr">name</span>=<span class="string">&quot;bottomLeftFrame&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">&quot;bottom-right.html&quot;</span>, <span class="attr">name</span>=<span class="string">&quot;bottomRightFrame&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">frameset</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">frameset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>对于当前的 window 而言，<code>window.frames</code> 将会包含3个 window 对象，分别是框架 <code>topFrame</code>、<code>bottomLeftFrame</code> 和 <code>bottomRightFrame</code> 的 window 对象。</p>
<p>可以通过 <code>window.frames[1]</code> 或者 <code>window.frames[&#39;bottomLeftFrame&#39;]</code> 来访问指定的框架 window 对象。</p>
<h4 id="1-2-1-top"><a href="#1-2-1-top" class="headerlink" title="1.2.1 top"></a>1.2.1 top</h4><p>top（window.top）对象始终指向最高（最外）层的框架，也就是浏览器窗口。</p>
<h4 id="1-2-2-parent"><a href="#1-2-2-parent" class="headerlink" title="1.2.2 parent"></a>1.2.2 parent</h4><p>parent（window.parent）对象指的是当前框架的直接上层框架（父框架）。</p>
<p>在没有框架的情况下，<code>parent === top</code>。</p>
<p>加入上述代码中的 top.html 文件如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">frameset</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">&quot;topInnerLeft.html&quot;</span>, <span class="attr">name</span>=<span class="string">&quot;topInnerLeftFrame&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">frame</span> <span class="attr">src</span>=<span class="string">&quot;topInnerRight.html&quot;</span>, <span class="attr">name</span>=<span class="string">&quot;topInnerRightFrame&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">frameset</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>那么对于框架 topInnerLeftFrame 的 window 对象而言，它的 <code>window.parent</code> 指的就是框架 topFrame 的 window 对象。</p>
<h4 id="1-2-3-self"><a href="#1-2-3-self" class="headerlink" title="1.2.3 self"></a>1.2.3 self</h4><p>self（window.self）指的是 window 对象本身。</p>
<p>引入 self 只是为了和 top、parent 对应，貌似没什么特别作用。</p>
<h3 id="1-3-窗口位置"><a href="#1-3-窗口位置" class="headerlink" title="1.3 窗口位置"></a>1.3 窗口位置</h3><p>窗口位置指的是浏览器窗口在屏幕上的位置信息。不同浏览器提供的位置属性不一样。</p>
<p>IE、Safari、Opera 和 Chrome 都提供 <code>screenLeft</code> 和 <code>screenRight</code>，分用于表示窗口相对于屏幕的左边和上边的位置。</p>
<p>FireFox、Safari、Chrome 提供 <code>screenX</code> 和 <code>screenY</code> ，对应相同的位置信息。</p>
<p>跨浏览器获取浏览器窗口的位置信息，可以用以下代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> leftPos = (<span class="keyword">typeof</span> <span class="variable language_">window</span>.<span class="property">screenLeft</span> == <span class="string">&#x27;number&#x27;</span>) ? <span class="variable language_">window</span>.<span class="property">screenLeft</span> : <span class="variable language_">window</span>.<span class="property">screenX</span>;</span><br><span class="line"><span class="keyword">var</span> topPos = (<span class="keyword">typeof</span> <span class="variable language_">window</span>.<span class="property">screenTop</span> == <span class="string">&#x27;number&#x27;</span>) ? <span class="variable language_">window</span>.<span class="property">screenTop</span> : <span class="variable language_">window</span>.<span class="property">screenY</span>;</span><br></pre></td></tr></table></figure>

<p>移动窗口位置，可以使用 <code>moveTo</code> 和 <code>moveBy</code> 方法，<code>moveTo</code> 是移动到指定的位置， <code>moveBy</code> 是移动的方向距离。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将窗口移动到(100, 200)</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">moveTo</span>(<span class="number">100</span>, <span class="number">200</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将窗口向右移动100，向下移动200</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">moveBy</span>(<span class="number">100</span>, <span class="number">200</span>)</span><br></pre></td></tr></table></figure>

<p>不过这两个方法有可能被浏览器禁用，因此最好不要使用。</p>
<h3 id="1-4-窗口大小"><a href="#1-4-窗口大小" class="headerlink" title="1.4 窗口大小"></a>1.4 窗口大小</h3><p>IE9+、Firefox、Safari、Opera 和 Chrome 提供了4个属性来获取窗口的大小：<code>innerWidth</code>、<code>innerHeight</code>、<code>outerWidth</code>、<code>outerHeight</code>，不过不同浏览器返回的值不太相同。有些是返回浏览器窗口本身的大小，有些是返回视口（viewport）的大小。</p>
<p>获取视口大小的代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> pageWidth = <span class="variable language_">window</span>.<span class="property">innerWidth</span></span><br><span class="line"><span class="keyword">var</span> pageHeight = <span class="variable language_">window</span>.<span class="property">innerHeight</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> pageWidth != <span class="string">&#x27;number&#x27;</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">compatMode</span> == <span class="string">&#x27;CSS1Compat&#x27;</span>) &#123;</span><br><span class="line">    pageWidth = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientWidth</span></span><br><span class="line">    pageHeight = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    pageWidth = <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientWidth</span></span><br><span class="line">    pageHeight = <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientHeight</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用 <code>resizeTo</code> 和 <code>resizeBy</code> 可以改变浏览器窗口的大小。<code>resizeTo</code> 是指定改变后浏览器窗口的大小，<code>resizeBy</code> 是指定改变窗口的宽高差值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将窗口大小改变为(100, 200)</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">resizeTo</span>(<span class="number">100</span>, <span class="number">200</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将窗口宽度减少100，高度减少200</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">resizeBy</span>(<span class="number">100</span>, <span class="number">200</span>)</span><br></pre></td></tr></table></figure>

<p>不过这两个方法也有可能被浏览器禁用，因此也是最好不要使用。</p>
<h3 id="1-5-导航和打开窗口"><a href="#1-5-导航和打开窗口" class="headerlink" title="1.5 导航和打开窗口"></a>1.5 导航和打开窗口</h3><p><code>window.open()</code> 方法可以导航到特定的 URL，也可以打开一个新的浏览器窗口。</p>
<p>接收的参数可以有4个：</p>
<ul>
<li>URL：要加载的URL</li>
<li>窗口目标：指定打开窗口的位置，是在当前窗口打开，还是新窗口打开</li>
<li>特性字符串：指定打开窗口的相关信息，例如窗口的高度、宽度等</li>
<li>标志位：用于标识新页面是否设置为浏览器历史记录中的当前加载页面</li>
</ul>
<p>第二个参数的可选值有：</p>
<ul>
<li>_self：当前框架或窗口打开</li>
<li>_parent：父框架或父窗口打开</li>
<li>_top：当前浏览器窗口打开</li>
<li>_blank：新的浏览器窗口打开</li>
<li>frameName：指定的框架打开，不存在该框架时，新窗口打开</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 等同于&lt;a href=&quot;http://ww.baidu.com&quot;, target=&quot;topFrame&quot;&gt;</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="string">&#x27;http://www.baidu.com&#x27;</span>, <span class="string">&#x27;topFrame&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>上述代码会在 topFrame 框架中加载新页面，如果框架不存在，则会新窗口打开。</p>
<h4 id="1-5-1-窗口引用"><a href="#1-5-1-窗口引用" class="headerlink" title="1.5.1 窗口引用"></a>1.5.1 窗口引用</h4><p><code>window.open()</code> 方法会返回一个指向新窗口的引用，该引用和 window 对象差不多。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> newWin = <span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="string">&#x27;http://www.baidu.com&#x27;</span>, <span class="string">&#x27;topFrame&#x27;</span>)</span><br><span class="line">newWin.<span class="title function_">moveTo</span>(<span class="number">100</span>, <span class="number">200</span>)</span><br><span class="line">newWin.<span class="title function_">resizeTo</span>(<span class="number">100</span>,<span class="number">200</span>)</span><br><span class="line">newWin.<span class="title function_">close</span>()</span><br></pre></td></tr></table></figure>

<p>同时，新打开窗口也拥有一个属性 opener 指向创建它的原始窗口对象：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> newWin = <span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="string">&#x27;http://www.baidu.com&#x27;</span>, <span class="string">&#x27;topFrame&#x27;</span>)</span><br><span class="line"><span class="title function_">alert</span>(newWin.<span class="property">opener</span> == <span class="variable language_">window</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h4 id="1-5-2-窗口屏蔽"><a href="#1-5-2-窗口屏蔽" class="headerlink" title="1.5.2 窗口屏蔽"></a>1.5.2 窗口屏蔽</h4><p>大多数浏览器有内置的弹出窗口屏蔽程序，因此 <code>window.open()</code> 有可能返回 null。因此使用 <code>window.open()</code> 时，最好封装在一个 <code>try-catch</code> 块中：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> blocked = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> newWin = <span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="string">&#x27;http://www.baidu.com&#x27;</span>, <span class="string">&#x27;_blank&#x27;</span>)</span><br><span class="line">  <span class="keyword">if</span> (newWin == <span class="literal">null</span>) &#123;</span><br><span class="line">      blocked = <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (ex) &#123;</span><br><span class="line">  blocked = <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (blocked) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&#x27;open window was blocked&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-6-location"><a href="#1-6-location" class="headerlink" title="1.6 location"></a>1.6 location</h3><p>location（window.location）对象提供了当前窗口中加载的文档的有关信息，还有导航功能。</p>
<p>另外，在 window 和 document 中，有 <code>window.location == document.location</code>。</p>
<p>location 对象中包含的属性有：</p>
<ul>
<li>href：当前加载页面的完整 URL，如 <a target="_blank" rel="noopener" href="http://www.baidu.com/">http://www.baidu.com</a></li>
<li>procotol：页面使用的协议，如 http:、https:</li>
<li>host：服务器名称以及端口，如 <a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com:80</a></li>
<li>hostname：服务器名称，不包括端口，如 <a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a></li>
<li>port：端口号，如 80</li>
<li>pathname：URL 路径，如 /uers/info</li>
<li>search：URL 查询字符串，如 ?age=12&amp;&amp;city=guangzhou</li>
<li>hash：URL 中的散列值，如 #content</li>
</ul>
<h4 id="1-6-1-位置操作"><a href="#1-6-1-位置操作" class="headerlink" title="1.6.1 位置操作"></a>1.6.1 位置操作</h4><p>直接改变 location 代表的值，就可以直接打开新的 URL：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这几种方式效果是一样的</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">location</span> = <span class="string">&#x27;http://www.baidu.com&#x27;</span></span><br><span class="line">location.<span class="property">href</span> = <span class="string">&#x27;http://www.baidu.com&#x27;</span></span><br><span class="line">location.<span class="title function_">assign</span>(<span class="string">&#x27;http://www.baidu.com&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>也可以单独修改 location 里面的属性：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// http://www.baidu.com:80/users/</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">location</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// http://www.baidu.com:80/users/#content</span></span><br><span class="line">location.<span class="property">hash</span> = <span class="string">&#x27;#content&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// http://www.baidu.com:80/another/</span></span><br><span class="line">location.<span class="property">pathname</span> = <span class="string">&#x27;another&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// http://www.baidu.com:8080/users/</span></span><br><span class="line">location.<span class="property">port</span> = <span class="string">&#x27;8080&#x27;</span></span><br></pre></td></tr></table></figure>

<p>使用上述的修改方式，会在浏览器的历史记录中生成一条新的记录，因此用户通过单击“后退”按钮后可以返回到上一个页面。</p>
<h4 id="1-6-2-相关方法"><a href="#1-6-2-相关方法" class="headerlink" title="1.6.2 相关方法"></a>1.6.2 相关方法</h4><p>使用 <code>location.repalce()</code> 方法可以禁用这种行为，它会导航到一个新的页面，但是不会在浏览器历史记录中生成新的记录。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不会生成新的历史记录，因此跳转后无法回到前一个页面</span></span><br><span class="line">location.<span class="title function_">replace</span>(<span class="string">&#x27;http://www.baidu.com&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>使用 <code>location.reload()</code> 方法可以重新加载当前显示的页面。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 有可能从缓存中加载</span></span><br><span class="line">location.<span class="title function_">reload</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 强制从服务器加载</span></span><br><span class="line">location.<span class="title function_">reload</span>(<span class="literal">true</span>)</span><br></pre></td></tr></table></figure>

<h3 id="1-7-navigator"><a href="#1-7-navigator" class="headerlink" title="1.7 navigator"></a>1.7 navigator</h3><p>navigator（window.navigator） 对象用于识别客户端浏览器的类型等信息。</p>
<p>主要实现属性包括（还有很多属性没列出来）：</p>
<ul>
<li>appCodeName：浏览器名称</li>
<li>appName：完整的浏览器名称</li>
<li>appVersion：浏览器的版本</li>
<li>cookieEnabled：表示 cookie 是否启用</li>
<li>mimeTypes：在浏览器中注册的MIME类型数组</li>
<li>platform：浏览器所在的系统平台</li>
<li>plugins：浏览器安装的插件</li>
<li>userAgent：浏览器的用户代理字符串</li>
</ul>
<p>navigator 对象主要提供来比较多来`客户端浏览器的相关信息，不同的浏览器实现还不一样。</p>
<h3 id="1-8-screen"><a href="#1-8-screen" class="headerlink" title="1.8 screen"></a>1.8 screen</h3><p>screen（window.screen）对象用来表明客户端的一些属性，包括浏览器窗口外部的显示器的信息，例如像素宽度和高度。</p>
<p>其中包含的属性有：</p>
<ul>
<li>height：屏幕的像素高度</li>
<li>width：·屏幕的像素宽度</li>
<li>left：当前屏幕距左边的像素距离</li>
<li>top：当前屏幕距上边的像素距离</li>
<li>colorDepth：用于表示颜色的位数</li>
</ul>
<p>screen 对象不常用，而且在涉及移动设备时，使用前还需要进行相应的调整。</p>
<h3 id="1-9-history"><a href="#1-9-history" class="headerlink" title="1.9 history"></a>1.9 history</h3><p>history（window.history）对象用于保存用户上网的历史记录，从打开窗口的那一刻算起。</p>
<p>history 是 window 的属性，因此不同的浏览器窗口、标签页、框架等都有自己的 history 对象。</p>
<p>出于安全考虑，history 对象不能看到用户浏览过的 URL，只能指导历史记录条数等一些信息。</p>
<p>使用 <code>go()</code> 方法可以在历史记录中进行任意的跳转，可以向前或者向后。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 后退一页</span></span><br><span class="line">history.<span class="title function_">go</span>(-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 前进两页</span></span><br><span class="line">history.<span class="title function_">go</span>(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<p><code>go()</code> 还可以使用字符串，表示跳转到包含该字符串的记录，因此有可能是前进，也可能是后退：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 跳到最近的 baidu.com 页面</span></span><br><span class="line">history.<span class="title function_">go</span>(<span class="string">&#x27;baidu.com&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>使用简写的 <code>forward()</code> 和 <code>back()</code> 可以用来替代 <code>go(1)</code> 和 <code>go(-1)</code>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 前进一页</span></span><br><span class="line">history.<span class="title function_">forward</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 后退一页</span></span><br><span class="line">history.<span class="title function_">back</span>()</span><br></pre></td></tr></table></figure>
</div><div class="level is-mobile is-flex"><div class="article-licensing box"><div class="licensing-title"><p>浏览器中的BOM对象</p><p><a href="http://example.com/lang/js/bom/">http://example.com/lang/js/bom/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>jiaduo</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2021-08-28</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2023-04-02</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 is-uppercase"><i class="fas fa-tags has-text-grey"></i> <a class="link-muted" rel="tag" href="/tags/JavaScript/">JavaScript </a></div><!--!--></div></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/lang/js/events/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">事件的监听以及处理</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/lang/js/dom/"><span class="level-item">HTML中的DOM对象</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><!--!--><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen  order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#BOM"><span class="level-left"><span class="level-item">BOM</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#一、window"><span class="level-left"><span class="level-item">一、window</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#1-1-全局声明"><span class="level-left"><span class="level-item">1.1 全局声明</span></span></a></li><li><a class="level is-mobile" href="#1-2-窗口和框架"><span class="level-left"><span class="level-item">1.2 窗口和框架</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#1-2-1-top"><span class="level-left"><span class="level-item">1.2.1 top</span></span></a></li><li><a class="level is-mobile" href="#1-2-2-parent"><span class="level-left"><span class="level-item">1.2.2 parent</span></span></a></li><li><a class="level is-mobile" href="#1-2-3-self"><span class="level-left"><span class="level-item">1.2.3 self</span></span></a></li></ul></li><li><a class="level is-mobile" href="#1-3-窗口位置"><span class="level-left"><span class="level-item">1.3 窗口位置</span></span></a></li><li><a class="level is-mobile" href="#1-4-窗口大小"><span class="level-left"><span class="level-item">1.4 窗口大小</span></span></a></li><li><a class="level is-mobile" href="#1-5-导航和打开窗口"><span class="level-left"><span class="level-item">1.5 导航和打开窗口</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#1-5-1-窗口引用"><span class="level-left"><span class="level-item">1.5.1 窗口引用</span></span></a></li><li><a class="level is-mobile" href="#1-5-2-窗口屏蔽"><span class="level-left"><span class="level-item">1.5.2 窗口屏蔽</span></span></a></li></ul></li><li><a class="level is-mobile" href="#1-6-location"><span class="level-left"><span class="level-item">1.6 location</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#1-6-1-位置操作"><span class="level-left"><span class="level-item">1.6.1 位置操作</span></span></a></li><li><a class="level is-mobile" href="#1-6-2-相关方法"><span class="level-left"><span class="level-item">1.6.2 相关方法</span></span></a></li></ul></li><li><a class="level is-mobile" href="#1-7-navigator"><span class="level-left"><span class="level-item">1.7 navigator</span></span></a></li><li><a class="level is-mobile" href="#1-8-screen"><span class="level-left"><span class="level-item">1.8 screen</span></span></a></li><li><a class="level is-mobile" href="#1-9-history"><span class="level-left"><span class="level-item">1.9 history</span></span></a></li></ul></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.png" alt="追来者之人" height="28"></a><p class="is-size-7"><span>&copy; 2023 jiaduo</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>个访客</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-cn");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>